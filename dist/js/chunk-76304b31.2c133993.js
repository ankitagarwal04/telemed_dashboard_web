(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76304b31"],{"00a1":function(t,e,a){var i,n;(function(o,s){void 0===o&&void 0!==window&&(o=window),i=[a("ba48")],n=function(t){return o["Chartist.plugins.tooltip"]=s(t)}.apply(e,i),void 0===n||(t.exports=n)})(this,(function(t){return function(t,e,a){"use strict";var i={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!0,class:void 0,pointClass:"ct-point"};function n(t,e){return(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")>-1}function o(t,e){do{t=t.nextSibling}while(t&&!n(t,e));return t}function s(t){return t.innerText||t.textContent}function r(a){if(r in a){var i=a.offsetParent;return i||(i=e.body.parentElement),i}i=a.parentNode;return i?"static"!==t.getComputedStyle(i).position?i:"BODY"===i.tagName?i.parentElement:r(i):e.body.parentElement}a.plugins=a.plugins||{},a.plugins.tooltip=function(l){return l=a.extend({},i,l),function(i){var c=l.pointClass;i instanceof a.Bar?c="ct-bar":i instanceof a.Pie&&(c=i.options.donut?i.options.donutSolid?"ct-slice-donut-solid":"ct-slice-donut":"ct-slice-pie");var u,p=i.container,d=!1,h=r(p);u=l.appendToBody?e.querySelector(".chartist-tooltip"):p.querySelector(".chartist-tooltip"),u||(u=e.createElement("div"),u.className=l.class?"chartist-tooltip "+l.class:"chartist-tooltip",l.appendToBody?e.body.appendChild(u):p.appendChild(u));var f=u.offsetHeight,g=u.offsetWidth;function y(t,e,a){p.addEventListener(t,(function(t){e&&!n(t.target,e)||a(t)}))}function b(e){f=f||u.offsetHeight,g=g||u.offsetWidth;var a=-g/2+l.tooltipOffset.x,i=-f+l.tooltipOffset.y,n=!0===l.anchorToPoint&&e.target.x2&&e.target.y2;if(!0===l.appendToBody)if(n){var o=p.getBoundingClientRect(),s=e.target.x2.baseVal.value+o.left+t.pageXOffset,r=e.target.y2.baseVal.value+o.top+t.pageYOffset;u.style.left=s+a+"px",u.style.top=r+i+"px"}else u.style.left=e.pageX+a+"px",u.style.top=e.pageY+i+"px";else{var c=h.getBoundingClientRect(),d=-c.left-t.pageXOffset+a,y=-c.top-t.pageYOffset+i;if(n){o=p.getBoundingClientRect(),s=e.target.x2.baseVal.value+o.left+t.pageXOffset,r=e.target.y2.baseVal.value+o.top+t.pageYOffset;u.style.left=s+d+"px",u.style.top=r+y+"px"}else u.style.left=e.pageX+d+"px",u.style.top=e.pageY+y+"px"}}function S(t){d=!0,n(t,"tooltip-show")||(t.className=t.className+" tooltip-show")}function v(t){d=!1;var e=new RegExp("tooltip-show\\s*","gi");t.className=t.className.replace(e,"").trim()}y("mouseover",c,(function(t){var n=t.target,c="",d=i instanceof a.Pie?n:n.parentNode,y=d?n.parentNode.getAttribute("ct:meta")||n.parentNode.getAttribute("ct:series-name"):"",v=n.getAttribute("ct:meta")||y||"",m=!!v,_=n.getAttribute("ct:value");if(l.transformTooltipTextFnc&&"function"===typeof l.transformTooltipTextFnc&&(_=l.transformTooltipTextFnc(_)),l.tooltipFnc&&"function"===typeof l.tooltipFnc)c=l.tooltipFnc(v,_);else{if(l.metaIsHTML){var D=e.createElement("textarea");D.innerHTML=v,v=D.value}if(v='<span class="chartist-tooltip-meta">'+v+"</span>",m)c+=v+"<br>";else if(i instanceof a.Pie){var C=o(n,"ct-label");C&&(c+=s(C)+"<br>")}_&&(l.currency&&(_=void 0!=l.currencyFormatCallback?l.currencyFormatCallback(_,l):l.currency+_.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),_='<span class="chartist-tooltip-value">'+_+"</span>",c+=_)}c&&(u.innerHTML=c,f=u.offsetHeight,g=u.offsetWidth,!0!==l.appendToBody&&(h=r(p)),"absolute"!==u.style.display&&(u.style.display="absolute"),b(t),S(u),f=u.offsetHeight,g=u.offsetWidth)})),y("mouseout",c,(function(){v(u)})),y("mousemove",null,(function(t){!1===l.anchorToPoint&&d&&b(t)}))}}}(window,document,t),t.plugins.tooltip}))},"0fd9":function(t,e,a){"use strict";a("99af"),a("4160"),a("caad"),a("13d5"),a("4ec9"),a("b64b"),a("d3b7"),a("ac1f"),a("2532"),a("3ca3"),a("5319"),a("159b"),a("ddb0");var i=a("ade3"),n=a("5530"),o=(a("4b85"),a("2b0e")),s=a("d9f7"),r=a("80d2"),l=["sm","md","lg","xl"],c=["start","end","center"];function u(t,e){return l.reduce((function(a,i){return a[t+Object(r["s"])(i)]=e(),a}),{})}var p=function(t){return[].concat(c,["baseline","stretch"]).includes(t)},d=u("align",(function(){return{type:String,default:null,validator:p}})),h=function(t){return[].concat(c,["space-between","space-around"]).includes(t)},f=u("justify",(function(){return{type:String,default:null,validator:h}})),g=function(t){return[].concat(c,["space-between","space-around","stretch"]).includes(t)},y=u("alignContent",(function(){return{type:String,default:null,validator:g}})),b={align:Object.keys(d),justify:Object.keys(f),alignContent:Object.keys(y)},S={align:"align",justify:"justify",alignContent:"align-content"};function v(t,e,a){var i=S[t];if(null!=a){if(e){var n=e.replace(t,"");i+="-".concat(n)}return i+="-".concat(a),i.toLowerCase()}}var m=new Map;e["a"]=o["default"].extend({name:"v-row",functional:!0,props:Object(n["a"])(Object(n["a"])(Object(n["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:p}},d),{},{justify:{type:String,default:null,validator:h}},f),{},{alignContent:{type:String,default:null,validator:g}},y),render:function(t,e){var a=e.props,n=e.data,o=e.children,r="";for(var l in a)r+=String(a[l]);var c=m.get(r);return c||function(){var t,e;for(e in c=[],b)b[e].forEach((function(t){var i=a[t],n=v(e,t,i);n&&c.push(n)}));c.push((t={"no-gutters":a.noGutters,"row--dense":a.dense},Object(i["a"])(t,"align-".concat(a.align),a.align),Object(i["a"])(t,"justify-".concat(a.justify),a.justify),Object(i["a"])(t,"align-content-".concat(a.alignContent),a.alignContent),t)),m.set(r,c)}(),t(a.tag,Object(s["a"])(n,{staticClass:"row",class:c}),o)}})},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var i=a("6b75");function n(t){if(Array.isArray(t))return Object(i["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=a("06c5");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return n(t)||o(t)||Object(s["a"])(t)||r()}},be2b:function(t,e,a){"use strict";a("4160"),a("caad"),a("a15b"),a("b0c0"),a("b64b"),a("d3b7"),a("07ac"),a("ac1f"),a("2532"),a("1276"),a("159b");var i=a("2909"),n=a("70f2"),o=a.n(n);e["a"]={watch:{selectedMerchants:function(t){var e=this;this.merchantFilterSubText=this.updateFilterSubText("Merchant",t,this.cscMerchants);var a=[];this.cscMerchants.forEach((function(e){t.includes(e.id)&&a.push(e)})),0===a.length?new Promise((function(t,a){e.resetSpecialities(),t("")})).then((function(t){e.getMappedSpecialitiesFromMerchants(e.cscMerchants)})):this.getMappedSpecialitiesFromMerchants(a)},selectedSpecialities:function(t){this.specialityFilterSubText=this.updateFilterSubText("Speciality",t,this.specialities)}},created:function(){this.getConsultationStats(),this.getCscMerchants(),this.updateDatePickerFields(),this.getDoctorAvailableStats()},methods:{getConsultationStats:function(){var t=this;this.$http.post("/dashboard_consultations/stats",{consultation_filters:{merchant_ids:this.selectedMerchants,mapped_speciality_ids:this.selectedSpecialities,date_from:this.datePicker.dateOne,date_to:this.datePicker.dateTwo}}).then((function(e){var a=e,i=a.call_duration_stats;t.consultationStats.stats=a.consultation_stats?a.consultation_stats:{},a.groupped_by_day&&t.handleChartData("consultationStats","daily",a.groupped_by_day),a.groupped_by_month&&t.handleChartData("consultationStats","monthly",a.groupped_by_month),t.callDurationStats.minCallDuration=i.min_call_duration,t.callDurationStats.avgCallDuration=i.avg_call_duration,t.callDurationStats.maxCallDuration=i.max_call_duration,t.callDurationStats.totalCallDuration=i.total_call_duration,t.callDurationStats.totalVideoConsultations=i.total_video_consultations,i.groupped_by_day&&t.handleChartData("callDurationStats","daily",i.groupped_by_day),i.groupped_by_month&&t.handleChartData("callDurationStats","monthly",i.groupped_by_month)})).catch((function(t){console.log(t)}))},resetSpecialities:function(){this.specialities=[],this.specialityFilterValue=0,this.selectedSpecialities=[],this.specialityFilterSubText="All Specialities"},getMappedSpecialitiesFromMerchants:function(t){if(t.length>0){var e=[],a=[];t.forEach((function(t){var i=t.mapped_specialities;i.length>0&&i.forEach((function(t){var i=t.id;a.includes(i)||(a.push(i),e.push({id:i,name:t.name}))}))})),0===a.length?this.resetSpecialities():this.setSpecialities(e,a)}else this.resetSpecialities()},setSpecialities:function(t,e){var a=[];this.specialities=t,this.specialityFilterValue=this.specialities.length,this.selectedSpecialities.forEach((function(t){e.includes(t)&&a.push(t)})),this.selectedSpecialities=a,this.specialityFilterSubText=this.updateFilterSubText("Speciality",this.selectedSpecialities,this.specialities)},getCscMerchants:function(){var t=this;this.$http.get("/dashboard_csc_merchants/index").then((function(e){t.cscMerchants=e,t.merchantFilterValue=t.cscMerchants.length,t.getMappedSpecialitiesFromMerchants(e)})).catch((function(t){console.log(t)}))},updateFilterSubText:function(t,e,a){var i="";if(e.length>0){var n=[];e.forEach((function(t,e){a.forEach((function(e,a){e.id===t&&n.push(e.name)}))})),i=n.join(", ")}else switch(t){case"Merchant":i="All Merchants";break;case"Speciality":i="All Specialities";break;default:i="All";break}return i=this.getUpdatedFilterSubText(i),i},closeFilterListDialog:function(t){t===this.merchantFilterTitle?(this.merchantListDialog=!1,this.getDoctorAvailableStats()):t===this.specialityFilterTitle?(this.specialitiesListDialog=!1,this.getDoctorAvailableStats()):t===this.statesFilterTitle?this.stateListDialog=!1:t===this.districtsFilterTitle&&(this.districtListDialog=!1),this.getConsultationStats()},formatDates:function(t){var e="";this.datePicker=t,t.dateOne&&(e=o()(t.dateOne,this.datePicker.dateFormat)),t.dateTwo&&(e+=" - "+o()(t.dateTwo,this.datePicker.dateFormat)),this.datePicker.subText=e,this.getConsultationStats()},resetDates:function(){this.datePicker.dateOne="",this.datePicker.dateTwo="",this.datePicker.subText="",this.getConsultationStats()},updateDatePickerFields:function(){var t=new Date,e=t.getDate(),a=t.getMonth(),i=t.getFullYear();this.datePicker.endDate=i+"-"+(a+1)+"-"+(e-1)},getDoctorAvailableStats:function(){var t=this;this.$http.post("/doctor_profiles/stats",{doctor_profile_filters:{merchant_ids:this.selectedMerchants,mapped_speciality_ids:this.selectedSpecialities}}).then((function(e){t.handleDoctorAvailableStatsResponse(e)})).catch((function(t){console.log(t)}))},handleDoctorAvailableStatsResponse:function(t){t.approved_doctor_profiles&&(this.doctorStats.approvedCount=t.approved_doctor_profiles.count),t.groupped_by_week&&this.handleChartData("doctorStats","weekly",t.groupped_by_week),t.groupped_by_month&&this.handleChartData("doctorStats","monthly",t.groupped_by_month)},fetchChartData:function(t){var e=Object.keys(t),a=[Object.values(t)],n=0;return n=Math.max.apply(Math,Object(i["a"])(a[0]))+Math.max.apply(Math,Object(i["a"])(a[0]))/4,0===n&&(n=100),[e,a,n]},handleChartData:function(t,e,a){var i=this.fetchChartData(a);"doctorStats"===t?"weekly"===e?(this.doctorStats.grouppedByWeek.data.labels=i[0],this.doctorStats.grouppedByWeek.data.series=i[1],this.doctorStats.grouppedByWeek.options.high=i[2]):"monthly"===e&&(this.doctorStats.grouppedByMonth.data.labels=i[0],this.doctorStats.grouppedByMonth.data.series=i[1],this.doctorStats.grouppedByMonth.options.high=i[2]):"consultationStats"===t?"daily"===e?(this.consultationStats.grouppedByDay.data.labels=i[0],this.consultationStats.grouppedByDay.data.series=i[1],this.consultationStats.grouppedByDay.options.high=i[2]):"monthly"===e&&(this.consultationStats.grouppedByMonth.data.labels=i[0],this.consultationStats.grouppedByMonth.data.series=i[1],this.consultationStats.grouppedByMonth.options.high=i[2]):"callDurationStats"===t?"daily"===e?(this.callDurationStats.grouppedByDay.data.labels=i[0],this.callDurationStats.grouppedByDay.data.series=i[1],this.callDurationStats.grouppedByDay.options.high=i[2]):"monthly"===e&&(this.callDurationStats.grouppedByMonth.data.labels=i[0],this.callDurationStats.grouppedByMonth.data.series=i[1],this.callDurationStats.grouppedByMonth.options.high=i[2]):"patientStats"===t&&("weekly"===e?(this.patientStats.grouppedByWeek.data.labels=i[0],this.patientStats.grouppedByWeek.data.series=i[1],this.patientStats.grouppedByWeek.options.high=i[2]):"monthly"===e&&(this.patientStats.grouppedByMonth.data.labels=i[0],this.patientStats.grouppedByMonth.data.series=i[1],this.patientStats.grouppedByMonth.options.high=i[2]))},getSubStats:function(t){var e={};return"consultation"===t?this.consultationStats.stats&&(e=[{title:"success",count:this.consultationStats.stats.successful_count,color:"#28a745",icon:["fas","arrow-up"]},{title:"failed",count:this.consultationStats.stats.unsuccessful_count,color:"#dc3545",icon:["fas","arrow-down"]}]):"call_duration"===t&&this.callDurationStats&&(e=[{title:"average",count:this.callDurationStats.avgCallDuration,color:"#17a2b8"},{title:"count",count:this.callDurationStats.totalVideoConsultations,color:"#17a2b8"}]),e},getStatsCardIconBgColor:function(t){var e;switch(t){case"filter":e="#004a91";break;case"stats":e="#368f8b";break;case"graph":e="lightOrange";break}return e},getUpdatedFilterSubText:function(t){var e,a=t.split(",");return e=a.length>=3?a[0]+", "+a[1]+" + "+"".concat(a.length-2)+"more":t,e}}}}}]);
//# sourceMappingURL=chunk-76304b31.2c133993.js.map